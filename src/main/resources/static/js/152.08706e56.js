"use strict";(self["webpackChunkvue2_v19"]=self["webpackChunkvue2_v19"]||[]).push([[152],{4125:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticStyle:{margin:"10px 0"}},[e("el-input",{staticClass:"ml-5",staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"請輸入姓名","suffix-icon":"el-icon-search"},model:{value:t.inputVal,callback:function(e){t.inputVal=e},expression:"inputVal"}}),e("el-button",{attrs:{type:"warning"},on:{click:t.reset}},[t._v("重置")])],1),e("div",{staticStyle:{margin:"10px 0"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.handleAdd}},[t._v(" 新增 "),e("i",{staticClass:"el-icon-circle-plus-outline"})])],1),e("el-table",{staticStyle:{"min-width":"100%"},attrs:{data:t.tableData,border:"",stripe:"","header-cell-class-name":t.headerBg,"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}}},[e("el-table-column",{staticStyle:{"min-width":"5%"},attrs:{prop:"id",label:"編號"}}),e("el-table-column",{staticStyle:{"min-width":"30%"},attrs:{prop:"name",label:"姓名"}}),e("el-table-column",{staticStyle:{"min-width":"30%"},attrs:{prop:"account",label:"帳號"}}),e("el-table-column",{staticStyle:{"min-width":"35%"},attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.handleEdit(a.row)}}},[t._v(" 編輯 "),e("i",{staticClass:"el-icon-edit"})]),e("el-popconfirm",{staticClass:"ml-5",attrs:{"confirm-button-text":"確定","cancel-button-text":"我再想想",icon:"el-icon-info","icon-color":"red",title:"您確定刪除嗎？"},on:{confirm:function(e){return t.del(a.row.id)}}},[e("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t._v(" 刪除 "),e("i",{staticClass:"el-icon-delete"})])],1)]}}])})],1),e("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[5,10,15,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:t.rawList.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),e("el-dialog",{attrs:{title:"新增員工資料",visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[e("el-form",{attrs:{"label-width":"80px",size:"small",model:t.addForm,rules:t.rules}},[e("el-form-item",{attrs:{label:"姓名"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1),e("el-form-item",{attrs:{label:"帳號",prop:"account"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.addForm.account,callback:function(e){t.$set(t.addForm,"account",e)},expression:"addForm.account"}})],1),e("el-form-item",{attrs:{label:"密碼"}},[e("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.addForm.passwd,callback:function(e){t.$set(t.addForm,"passwd",e)},expression:"addForm.passwd"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("確 定")])],1)],1),e("el-dialog",{attrs:{title:"修改員工資料",visible:t.dialogFormVisibleedit,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisibleedit=e}}},[e("el-form",{attrs:{model:t.editForm,"label-width":"80px",size:"small"}},[e("el-form-item",{attrs:{label:"編號"}},[e("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:t.editForm.id,callback:function(e){t.$set(t.editForm,"id",e)},expression:"editForm.id"}})],1),e("el-form-item",{attrs:{label:"姓名"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.editForm.name,callback:function(e){t.$set(t.editForm,"name",e)},expression:"editForm.name"}})],1),e("el-form-item",{attrs:{label:"帳號"}},[e("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:t.editForm.account,callback:function(e){t.$set(t.editForm,"account",e)},expression:"editForm.account"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogFormVisibleedit=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.edit}},[t._v("確 定")])],1)],1)],1)},l=[],s=(a(7658),{name:"employee",data(){return{currentPage1:1,pageSize:5,rawList:[],tableData:[{id:"",name:"",account:"",passwd:""}],addForm:{},dialogFormVisible:!1,editForm:{},dialogFormVisibleedit:!1,multipleSelection:[],headerBg:"headerBg",inputVal:""}},created(){this.getAllData()},watch:{inputVal(t){t?this.searchData(!0):this.searchData(!1)}},methods:{searchData(t){if(this.currentPage=1,t){let t=[];this.inputVal&&this.tableData.filter((e=>{-1!==e.name.indexOf(this.inputVal)&&t.push(e)})),this.tableData=t}else this.refreshData()},reset(){this.inputVal="",this.getAllData()},getAllData(){var t="/employee/";this.$http.get(t,{params:{id:this.id,name:this.name,account:this.account,passwd:this.passwd}}).then((t=>{console.log(t),this.tableData=t.data,this.rawList=t.data,this.currentChangePage(this.rawList,1)}))},handleAdd(){this.dialogFormVisible=!0,this.addForm={}},add(){this.$http.post("/employee/",this.addForm).then((t=>{t?(this.$message.success("新增成功"),this.dialogFormVisible=!1,this.getAllData()):this.$message.error("新增失败")}))},handleEdit(t){this.editForm=JSON.parse(JSON.stringify(t)),this.dialogFormVisibleedit=!0},edit(){this.$http.put("/employee/"+this.editForm.id,{id:this.editForm.id,name:this.editForm.name,account:this.editForm.account}).then((t=>{t?(this.$message.success("修改成功"),this.dialogFormVisibleedit=!1,this.getAllData()):this.$message.error("修改失败")}))},del(t){this.$http.delete("/employee/"+t).then((t=>{t?(this.$message.success("删除成功"),this.getAllData()):this.$message.error("删除失败")}))},handleSelectionChange(t){console.log(t),this.multipleSelection=t},handleSizeChange:function(t){this.pageSize=t,this.handleCurrentChange(this.currentPage1)},handleCurrentChange:function(t){this.currentPage1=t,this.currentChangePage(this.rawList,t)},currentChangePage(t,e){let a=(e-1)*this.pageSize,i=e*this.pageSize;for(this.tableData=[];a<i;a++)t[a]&&this.tableData.push(t[a])}}}),o=s,r=a(1001),n=(0,r.Z)(o,i,l,!1,null,null,null),c=n.exports}}]);
//# sourceMappingURL=152.08706e56.js.map